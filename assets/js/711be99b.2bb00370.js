"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[389],{2945:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>d,contentTitle:()=>i,default:()=>h,frontMatter:()=>o,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"api/fetchFromDB","title":"fetchFromDB","description":"The fetchFromDB function is an optional method available when database integration is configured in your store. It fetches data from the external database and merges it into your current state based on the defined merge strategy.","source":"@site/docs/api/fetchFromDB.md","sourceDirName":"api","slug":"/api/fetchFromDB","permalink":"/zustand-storage/api/fetchFromDB","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedBy":"alphadevking","lastUpdatedAt":1740941703000,"frontMatter":{"title":"fetchFromDB","sidebar_label":"fetchFromDB"},"sidebar":"api","previous":{"title":"resetStore","permalink":"/zustand-storage/api/resetStore"},"next":{"title":"saveToDB","permalink":"/zustand-storage/api/saveToDB"}}');var a=r(612),s=r(7066);const o={title:"fetchFromDB",sidebar_label:"fetchFromDB"},i="fetchFromDB",d={},c=[{value:"Usage",id:"usage",level:2},{value:"Parameters",id:"parameters",level:2},{value:"Returns",id:"returns",level:2},{value:"Additional Notes",id:"additional-notes",level:2}];function l(e){const t={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"fetchfromdb",children:"fetchFromDB"})}),"\n",(0,a.jsxs)(t.p,{children:["The ",(0,a.jsx)(t.code,{children:"fetchFromDB"})," function is an optional method available when database integration is configured in your store. It fetches data from the external database and merges it into your current state based on the defined merge strategy."]}),"\n",(0,a.jsx)(t.h2,{id:"usage",children:"Usage"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-ts",children:"import store from './store';\n\nstore.fetchFromDB({ id: 'record-id' })\n  .then(() => {\n    console.log('Data fetched from the database and merged into the state.');\n  })\n  .catch((error) => console.error('Error fetching from DB:', error));\n"})}),"\n",(0,a.jsx)(t.h2,{id:"parameters",children:"Parameters"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"query"}),": An object that defines the criteria for fetching data from the database. This is used to locate the appropriate record(s)."]}),"\n"]}),"\n",(0,a.jsx)(t.h2,{id:"returns",children:"Returns"}),"\n",(0,a.jsx)(t.p,{children:"A Promise that resolves when the state has been updated with the data fetched from the database."}),"\n",(0,a.jsx)(t.h2,{id:"additional-notes",children:"Additional Notes"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.strong,{children:"Optional Integration:"}),"\n",(0,a.jsx)(t.code,{children:"fetchFromDB"})," is only available if you have provided a database configuration (with a valid client and associated options) in your store setup."]}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.strong,{children:"Merge Strategy:"}),"\nThe data fetched from the database will be merged into the current state using the ",(0,a.jsx)(t.code,{children:"mergeStrategy"})," defined during store creation (",(0,a.jsx)(t.code,{children:"deep"}),", ",(0,a.jsx)(t.code,{children:"shallow"}),", or ",(0,a.jsx)(t.code,{children:"replace"}),")."]}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.strong,{children:"Transform Function:"}),"\nIf a ",(0,a.jsx)(t.code,{children:"fromRecord"})," transform function is provided in your database configuration, it will be used to convert the fetched record into a partial state object."]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(t.p,{children:["Using ",(0,a.jsx)(t.code,{children:"fetchFromDB"}),", you can synchronize your application's state with external data sources, making it easier to manage hybrid local-remote state management."]})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},7066:(e,t,r)=>{r.d(t,{R:()=>o,x:()=>i});var n=r(4344);const a={},s=n.createContext(a);function o(e){const t=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),n.createElement(s.Provider,{value:t},e.children)}}}]);